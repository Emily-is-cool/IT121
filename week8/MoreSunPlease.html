<!doctype html>
<html lang="en">
    <head>
    <title>More Sun Please</title>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    </head>
    <body>
        <h1>Check the forecast in your area</h1>
        <p>Enter your city:</p>
        
        <form id="form1" action="#" onsubmit="checkWeather()">
            City: <input type="text" name="city">
            <button >Check</button>
        </form>
        <script>
            //console.log(city + state)
            //var apiKey = "8e5a0b1e2e3d352cb7303101593a1f8b";
            var apiKey = "d09708f81ff13711278d283901a9ce34"
            async function checkWeather() {
                validateForm()
                callAPI()
            }
            
            function validateForm() {
                var city = form1.city.value;
                if (city == "") {
                    alert("Please enter a city")
                    
                }
                let queryURL = "https://api.openweathermap.org/data/2.5/forecast/daily?q=" + city + "&cnt=5&APPID=" + apiKey;
                console.log(city);
                callAPI(queryURL);
                //return false;
            }
            function callAPI(url) {
              fetch(url)
                  .then((response) => response.json())
                  .then(function(data) {
                    console.log(data);
                    //test(data);
                  }) 
                  
                  .catch(function (err) {
                    console.log(err);
                  })                         
            };
            // // function fiveDay(days) {
            // //     let lat = data.coord.lat;
            // //     let lon = data.coord.lon;
            // //     let fiveUrl = "api.openweathermap.org/data/2.5/forecast?lat={lat}&lon={lon}&appid={apiKey}"
            // // }
            // function test(data) {
            //   console.log(data.coord) 
            // }

           //console.log(queryURL)
//https://openweathermap.org/forecast5   // "&cnt=3" US USA 840 http://openweathermap.org/forecast5
//https://api.openweathermap.org/data/2.5/forecast/daily?q=seattle&cnt=5&APPID=d09708f81ff13711278d283901a9ce34
        </script>
    </body>
</html>